---
import BaseLayout from './BaseLayout.astro';
import FormattedDate from '../components/FormattedDate.astro';

interface Props {
  title: string;
  description: string;
  pubDate: Date;
  updatedDate?: Date;
  heroImage?: string;
  author?: string;
  tags?: string[];
}

const { title, description, pubDate, updatedDate, heroImage, author = 'Zespół', tags = [] } = Astro.props;
---

<BaseLayout title={title} description={description} image={heroImage}>
  <article class="blog-post">
    <div class="hero-image">
      {heroImage && <img src={heroImage} alt={title} />}
    </div>
    <div class="post-header">
      <h1>{title}</h1>
      <div class="post-meta">
        <span class="author">Autor: {author}</span>
        <span class="date">
          <FormattedDate date={pubDate} />
        </span>
        {
          updatedDate && (
            <span class="updated">
              Zaktualizowano: <FormattedDate date={updatedDate} />
            </span>
          )
        }
      </div>
      {tags.length > 0 && (
        <div class="tags">
          {tags.map((tag) => (
            <span class="tag">{tag}</span>
          ))}
        </div>
      )}
    </div>
    <div class="prose">
      <slot />
    </div>
  </article>
</BaseLayout>

<style>
  .blog-post {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem 1rem;
  }

  .hero-image {
    margin-bottom: 2rem;
    border-radius: 12px;
    overflow: hidden;
  }

  .hero-image img {
    width: 100%;
    height: auto;
    display: block;
  }

  .post-header {
    margin-bottom: 2rem;
  }

  h1 {
    font-size: 2.5rem;
    margin-bottom: 1rem;
    color: #2d1b35;
    line-height: 1.2;
  }

  .post-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    color: #666;
    font-size: 0.9rem;
    margin-bottom: 1rem;
  }

  .tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .tag {
    background: linear-gradient(135deg, #d4a5c3 0%, #9b7fa8 100%);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.85rem;
  }

  .prose {
    line-height: 1.8;
    color: #333;
  }

  @media (max-width: 768px) {
    h1 {
      font-size: 2rem;
    }

    .blog-post {
      padding: 1rem;
    }
  }
</style>
